<section id="basic-input">
    <div class="row">
        <div class="col-md-12">
            <div class="col-md-6">
                <div class="pull-right">
                    <span class="badge bg-light-success font-small-3 ml-1 mr-1">{{'CURRENT_SOURCE' | translate}}: {{
                        currentDepartment }}
                    </span>
                </div>
            </div>
            <div class="col-md-6">
                <button type="button" class="btn btn-outline-info btn-icon round mr-1 mb-1 pull-right"
                    (click)="reload()">
                    <i class="ft ft-refresh-cw"></i>
                </button>
                <button type="button" class="btn btn-outline-info btn-icon round mr-1 mb-1 pull-right"
                    [title]="'ADD_EXECUTION' | translate" (click)="addExecution()">
                    <i class="ft ft-plus"></i>
                </button>
            </div>
        </div>
    </div>
    <div id="vertical-timeline-left" class="timeline-left timeline-wrapper col-sm-12 col-12 offset-sm-1">
        <ul class="timeline">
            <li class="timeline-line mt-4"></li>
            <li class="timeline-group">
                <h5><span class="badge badge-info cursor-default">{{'TODAY'|translate}}</span></h5>
            </li>
        </ul>
        <ul *ngFor="let exec of documentExecutions" class="timeline">
            <li class="timeline-line"></li>
            <li class="timeline-item">
                <div class="timeline-badge">
                    <span class="bg-info bg-lighten-4" data-toggle="tooltip" placement="right">
                        <i class="ft-file-text info"></i>
                    </span>
                </div>

                <div class="timeline-card card shadow-z-1 border">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-md-12">
                                <h4 class="card-title mb-0">
                                    {{exec.title}}
                                    <div class="pull-right">
                                            <button type="button"
                                                class="btn btn-outline-success btn-icon round mr-1 mb-1 pull-left"
                                                (click)="viewDetial(exec.id)">
                                                <i class="ft ft-align-center"></i>
                                            </button>

                                    </div>
                                </h4>
                                <div class="card-subtitle text-muted mt-0">
                                    <span class="font-small-3 mb-0">{{ exec.createdBy.name }}</span>
                                    <span class="badge bg-light-info font-small-3 ml-1 mr-1">{{
                                        exec.createdBy?.job?.nameDr }}</span>
                                    <span class="badge bg-light-secondary font-small-3 ml-1 mr-1">{{
                                        exec.createdBy?.department.nameDr }}</span>
                                    <span class="badge bg-light-secondary font-small-3 ml-1 mr-1">{{
                                        exec.createdBy?.entity.nameDr }}</span>
                                </div>
                                <span class="text-muted mt-0 font-small-3 mb-0">{{exec.createdAtDate | jalali }}</span>
                            </div>
                            

                        </div>
                    </div>
                    <div class="card-content">
                        <div class="card-body">
                            <div class="row">
                                <div class="row col-12 col-sm-6 col-md-6 flex-column">
                                    <div class="flex-row" *ngIf="exec.doumentTypeName">
                                        <div class="title">{{'EXECUTION_TYPE' | translate }}: </div>
                                        <div class="description">{{ exec.doumentTypeName }} &nbsp;
                                            <span class="badge badge-pill" *ngIf="exec?.status != 'FINAL'"
                                            [ngClass]="{'bg-light-warning':exec?.status != 'FINAL' }">
                                            {{ exec?.status|translate }}
                                        </span>
                                        </div>
                                    </div>
                                    <div class="flex-row" *ngIf="exec?.fromEntityName">
                                        <div class="title">{{'FROM_ENTITY_EXECUTION' | translate }}: </div>
                                        <div class="description">{{ exec?.fromEntityName }}</div>
                                    </div>
                                    <div class="flex-row" *ngIf="exec?.fromDepartmentName">
                                        <div class="title">{{'FROM_DEPARTMENT_EXECUTION' | translate }}: </div>
                                        <div class="description">{{ exec?.fromDepartmentName }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>

        <!-- Last Week -->
        <ul class="timeline">
            <li class="timeline-line"></li>
            <li class="timeline-group">
                <h5><span class="badge badge-info cursor-default">{{'END'|translate}}</span></h5>
            </li>
        </ul>
    </div>
</section>
<ngx-spinner class="loader" bdOpacity=0.3 bdColor="#f4f4f9" size="large" color="#b416f7" type="ball-spin-clockwise-fade"
    [fullScreen]="true">
</ngx-spinner>